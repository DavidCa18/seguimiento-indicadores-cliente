
<div class="row animated fadeIn ">
    <div class="col-12">
        <div class="card">
            <div class="card-body">

                <input #input (keyup)="buscarUsuario( input.value )" type="text" class="form-control" placeholder="Buscar usuario...">

            </div>
        </div>
    </div>
</div>

<div class="row animated fadeIn" *ngIf="cargando">

    <div class="col-sm-12">

        <div class="alert alert-warning text-center">
            <strong>Cargando</strong>
            <br>
            <i class="fa fa-refresh fa-spin fa-2x"></i>
            <br>
            <span>Espere por favor</span>
        </div>
    </div>
</div>


<div class="row animated fadeIn" *ngIf="!cargando">
    <div class="col-12">
        <div class="card">
            <div class="card-body">

                <h3 class="card-title">Usuarios registrados ( <small>{{totalRegistros }}</small> )</h3>


                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Imagen</th>
                            <th>Correo</th>
                            <th>Usuario</th>
                            <th>Role</th>
                         
                            <th></th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr *ngFor="let usuario of usuarios">
                            <td class="w70">
                                <img  [src]="usuario.img | imagen" class="img-50 img-circle pointer">
                            </td>
                            <td>
                                {{ usuario.email }}
                            </td>
                            <td>{{ usuario.nombre }}</td>
                            <td>

                                <select  (change)="guardarUsuario( usuario )" [(ngModel)]="usuario.role" name="role" class="form-control" [ngClass]="{'bg-danger text-white':usuario.role=='INACTIVO'}">
                                    <option value="ADMIN_ROLE">ADMIN_ROLE</option>
                                    <option value="USER_ROLE">USER_ROLE</option>
                                    <option value="RECTOR_ROLE">RECTOR_ROLE</option>
                                    <option value="VICERECTOR_ROLE">VICERECTOR_ROLE</option>
                                    <option value="DIRECTOR_ROLE">DIRECTOR_ROLE</option>
                                    <option value="PLANIFICADOR_ROLE">PLANIFICADOR_ROLE</option>
                                    <option value="UPDI_ROLE">UPDI_ROLE</option>
                                    <option value="REQUIRENTE_ROLE">REQUIRENTE_ROLE</option>
                                    <option value="PRESUPUESTO_ROLE">PRESUPUESTO_ROLE</option>
                                    <option value="DIRECTOR_UPDI_ROLE">DIRECTOR_UPDI_ROLE</option>
                                    <option value="VICERECTOR_ADMINISTRATIVO_ROLE">VICERECTOR_ADMINISTRATIVO_ROLE</option>
                                    <option value="VICERECTOR_ACADEMICO__GENERAL_ROLE">VICERECTOR_ACADEMICO__GENERAL_ROLE</option>
                                    <!--indicadores roles-->
                                    <option value="FINANCIERO_ROLE">FINANCIERO_ROLE </option>
                                    <option value="PLANIFICACION_ROLE">PLANIFICACION_ADMINISTRACION_ROLE </option>
                                    <option value="ESPE_LATACUNGA_ROLE">ESPE_LATACUNGA_ROLE</option>
                                    <option value="ESPE_STO_DOMINGO_ROLE">ESPE_SANTO_DOMINGO_ROLE</option>
                                    <option value="ADMISION_REGISTRO_ROLE">ADMISION_REGISTRO_ROLE</option>
                                    <option value="VICERECTOR_INVESTIGACION_INNOVACION_ROLE">VICERECTOR_INVESTIGACION_INNOVACION_ROLE</option>
                                    <option value="GESTION_INVESTIGACION_ROLE">GESTION_INVESTIGACION_ROLE</option>
                                    <option value="TECNOLOGIAS_INFORMACION_COMUNICACIONES_ROLE">TECNOLOGIAS_INFORMACION_COMUNICACIONES_ROLE</option>
                                    <option value="TECNOLOGIAS_DE_LA_INFORMACION_Y_COMUNICACIONES_ROLE">TECNOLOGÍAS_DE_LA_INFORMACIÓN_COMUNICACIONES_ROLE</option>
                                    <option value="COMUNICACION_SOCIAL_ROLE">COMUNICACIÓN_SOCIAL_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_DE_LA_TIERRA_Y_LA_CONSTRUCCION_CARRERAS_ROLE">DEPARTAMENTO_DE_CIENCIAS_DE_LA_TIERRA_Y_LA_CONSTRUCCION_CARRERAS_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_ELECTRICA_Y_ELECTRONICA_CARRERAS_ROLE">DEPARTAMENTO_DE_ELECTRICA_Y_ELECTRONICA_CARRERAS_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_DE_LA_VIDA_Y_AGRICULTURA_CARRERAS_ROLE">DEPARTAMENTO_DE_CIENCIAS_DE_LA_VIDA_Y_AGRICULTURA_CARRERAS_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_DE_LA_VIDA_Y_LA_AGRICULTURA_ROLE">DEPARTAMENTO_DE_CIENCIAS_DE_LA_VIDA_Y_LA_AGRICULTURA_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_ECONOMICAS_ADMINISTRATIVAS_Y_DE_COMERCIO_ROLE">DEPARTAMENTO_DE_CIENCIAS_ECONOMICAS_ADMINISTRATIVAS_Y_DE_COMERCIO_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_ECONOMICAS_ADMINISTRATIVAS_Y_DE_COMERCIO_CARRERAS_ROLE">DEPARTAMENTO_DE_CIENCIAS_ECONOMICAS_ADMINISTRATIVAS_Y_DE_COMERCIO_CARRERAS_ROLE</option>
                                    <!--MIO-->
                                    <option value="SEDE_DOMINGO_CARRERAS_ROLE">SEDE_DOMINGO_CARRERAS_ROLE</option>
                                    <option value="SEDE_LATACUNGA_ROLE">SEDE_LATACUNGA_ROLE</option>
                                    <option value="SEDE_LATACUNGA_DEPARTAMENTOS_ROLE">SEDE_LATACUNGA_DEPARTAMENTOS_ROLE</option>
                                    <option value="SEDE_LATACUNGA_CARRERAS_ROLE">SEDE_LATACUNGA_CARRERAS_ROLE</option>
                                    <option value="SEDE_SANTO_DOMINGO_ROLE">SEDE_SANTO_DOMINGO_ROLE</option>
                                    <option value="SEDE_SANTO_DOMINGO_DEPARTAMENTOS_ROLE">SEDE_SANTO_DOMINGO_DEPARTAMENTOS_ROLE</option>
                                    <option value="SEGUIMIENTO_A_GRADUADOS_ROLE">SEGUIMIENTO_A_GRADUADOS_ROLE</option>
                                    
                                    <option value="UNIDAD_DE_GESTION_DE_LA_INVESTIGACION_ROLE">UNIDAD_DE_GESTION_DE_LA_INVESTIGACION_ROLE</option>
                                    <option value="UNIDAD_DE_TALENTO_HUMANO_ROLE">UNIDAD_DE_TALENTO_HUMANO_ROLE</option>
                                    <option value="UNIDAD_DE_SEGURIDAD_FISICA_ROLE">UNIDAD_DE_SEGURIDAD_FISICA_ROLE</option>
                                    <option value="DESARROLLO_FISICO_ROLE">DESARROLLO_FISICO_ROLE</option>
                                    <option value="EDUCACION_A_DISTANCIA_ROLE">EDUCACION_A_DISTANCIA_ROLE</option>
                                    <option value="PLANIFICACION_Y_DESARROLLO_INSTITUCIONAL_ROLE">PLANIFICACION_Y_DESARROLLO_INSTITUCIONAL_ROLE</option>
                                    <option value="RELACIONES_DE_COOPERACION_INTERINSTITUCIONAL_ROLE">RELACIONES_DE_COOPERACION_INTERINSTITUCIONAL_ROLE</option>
                                    
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_HUMANAS_Y_SOCIALES_CARRERAS_ROLE">DEPARTAMENTO_DE_CIENCIAS_HUMANAS_Y_SOCIALES_CARRERAS_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_ELECTRICA_Y_ELECTRONICA_ROLE">DEPARTAMENTO_DE_ELECTRICA_Y_ELECTRONICA_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_ENERGIA_Y_MECANICA_CARRERAS_ROLE">DEPARTAMENTO_DE_ENERGIA_Y_MECANICA_CARRERAS_ROLE</option>
                                    <option value="DESARROLLO_EDUCATIVO_ROLE">DESARROLLO_EDUCATIVO_ROLE</option>
                                    <option value="BIENESTAR_ESTUDIANTIL_ROLE">BIENESTAR_ESTUDIANTIL_ROLE</option>
                                    <option value="BIBLIOTECA_ROLE">BIBLIOTECA_ROLE</option>
                                    <option value="CENTRO_DE_EDUCACION_CONTINUA_ROLE">CENTRO_DE_EDUCACIÓN_CONTINUA_ROLE</option>
                                    <option value="CENTRO_DE_INVESTIGACIONES_Y_APLICACIONES_MILITARES_CICTE_ROLE">CENTRO_DE_INVESTIGACIONES_Y_APLICACIONES_MILITARES_CICTE_ROLE</option>
                                    <option value="CIMSE_ROLE">CIMSE_ROLE</option>
                                    <option value="GESTION_DE_VINCULACION_CON_LA_SOCIEDAD_ROLE">GESTIÓN_DE_VINCULACIÓN_CON_LA_SOCIEDAD_ROLE</option>
                                    <option value="CENTRO_DE_POSGRADOS_ROLE">CENTRO_DE_POSGRADOS_ROLE</option>
                                    <option value="DESAROLLO_FISICO_ROLE">DESAROLLO_FISICO_ROLE</option>
                                    <option value="SERVICIOS_UNIVERSITARIOS_ROLE">SERVICIOS_UNIVERSITARIOS_ROLE</option>
                                    <option value="SEGURIDAD_INTEGRADA_ROLE">SEGURIDAD_INTEGRADA_ROLE</option>
                                    <option value="EDUCACION_A_DISTACIA_ROLE">EDUCACION_A_DISTACIA_ROLE</option>
                                    <option value="INSTITUTO_DE_IDIOMAS_ROLE">INSTITUTO_DE_IDIOMAS_ROLE</option>
                                    <option value="CICTE_ROLE">CICTE_ROLE</option>
                                    <option value="TALENTO_HUMANO_ROLE">TALENTO_HUMANO_ROLE</option>
                                    <option value="LOGISTICA_ROLE">LOGISTICA_ROLE</option>
                                    <option value="SECRETARIA_GENERAL_ROLE">SECRETARIA_GENERAL_ROLE</option>
                                    <option value="IASAI_DEPARTAMENTO_DE_CIENCIAS_DE_LA_VIDA_Y_LA_AGRICULTURA_ROLE">IASAI_DEPARTAMENTO_DE_CIENCIAS_DE_LA_VIDA_Y_LA_AGRICULTURA_ROLE</option>
                                    <option value="ASESORIA_JURIDICA_ROLE">ASESORIA_JURIDICA_ROLE</option>
                                    <option value="CENTRO_DE_NANOCIENCIA_Y_NANOTECNOLOGIA_ROLE">CENTRO DE NANOCIENCIA Y NANOTECNOLOGIA_ROLE</option>
                                    <option value="SEGURIDAD_FISICA_ROLE">SEGURIDAD_FISICA_ROLE</option>    
                                    <option value="VICERRECTORADO_ACADEMICO_GENERAL_ROLE">VICERRECTORADO_ACADEMICO_GENERAL_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_MEDICAS_ROLE">DEPARTAMENTO_DE_CIENCIAS_MEDICAS_ROLE</option>
                                    <option value="VICERRECTORADO_DE_DOCENCIA_ROLE">VICERRECTORADO_DE_DOCENCIA_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_HUMANAS_Y_SOCIALES_ROLE">DEPARTAMENTO_DE_CIENCIAS_HUMANAS_Y_SOCIALES_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_DE_LA_VIDA_Y_DE_LA_AGRICULTURA_ROLE">DEPARTAMENTO_DE_CIENCIAS_DE_LA_VIDA_Y_DE_LA_AGRICULTURA_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_DE_LA_COMPUTACION_ROLE">DEPARTAMENTO_DE_CIENCIAS_DE_LA_COMPUTACION_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_SEGURIDAD_Y_DEFENSA_ROLE">DEPARTAMENTO_DE_SEGURIDAD_Y_DEFENSA_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_ECONOMICAS_ADMINISTRATIVAS_DE_COMERCIO_ROLE">DEPARTAMENTO_DE_CIENCIAS_ECONOMICAS_ADMINISTRATIVAS_DE_COMERCIO_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_DE_TIERRA_Y_LA_CONSTRUCCION_ROLE">DEPARTAMENTO_DE_CIENCIAS_DE_TIERRA_Y_LA_CONSTRUCCION_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_ENERGIA_Y_MECANICA_ROLE">DEPARTAMENTO_DE_ENERGIA_Y_MECANICA_ROLE</option>
                                    <option value="DEPARTAMENTO_DE_ELECTRICA_ELECTRONICA_Y_TELECOMUNICACIONES_ROLE">DEPARTAMENTO_DE_ELECTRICA_ELECTRONICA_Y_TELECOMUNICACIONES_ROLE</option>    
                                    <option value="DEPARTAMENTO_DE_CIENCIAS_EXACTAS_ROLE">DEPARTAMENTO_DE_CIENCIAS_EXACTAS_ROLE</option>
                                    <option value="VINCULACION_CON_LA_SOCIEDAD_ROLE">VINCULACION_CON_LA_SOCIEDAD_ROLE</option>
                                    <option value="UNIDAD_FINANCIERA_ROLE">UNIDAD_FINANCIERA_ROLE</option>
                                    <option value="AUTOEVALUACION_Y_ASEGURAMIENTO_DE_LA_CALIDAD_ACADEMICA_ROLE">AUTOEVALUACION_Y_ASEGURAMIENTO_DE_LA_CALIDAD_ACADÉMICA</option>
                                    <option value="INACTIVO">INACTIVO</option>                                                
                                </select>

                            </td>
                         
                            <td>
                                <button (click)="guardarUsuario( usuario )" class="btn btn-primary">
                                <i class="fa fa-save"></i>
                              </button>

                                <button (click)="borrarUsuario( usuario )" class="btn btn-danger">
                                  <i class="fa fa-trash-o"></i>
                                </button>
                            </td>
                        </tr>

                    </tbody>

                </table>

                <button (click)="cambiarDesde(-20)" class="btn btn-secondary">
                  Anteriores
                </button>

                <button (click)="cambiarDesde(20)" class="btn btn-secondary">
                    Siguientes
                </button>



            </div>
        </div>
    </div>
</div>
